
## mem
### 先看整体内存使用
- free -h
- `top`（实时监控）按 m进入内存查看

### 看哪些进程吃内存（定位元凶）

### 1. 按内存排序列出进程

```
ps aux --sort=-%mem | head -20
```

- `--sort=-%mem`：按内存占比降序
- `head -20`：只看前 20 个

### 2. 只看内存相关列，更清爽

```
ps aux | awk '{print $4"\t"$2"\t"$11}' | sort -k1 -n -r | head -20
```

- 输出：`%MEM PID COMMAND`，按内存从高到低排。

### 3. 看某个进程的详细内存（如 PID=1234）

```
cat /proc/1234/status | grep -E "^Vm"
```

重点字段：

- `VmRSS`：物理内存占用（KB）
- `VmSize`：虚拟内存总大小